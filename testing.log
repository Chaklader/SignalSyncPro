
======================================================================
TESTING ON ALL 30 SCENARIOS (same as training):
  Pr: 0-9, Bi: 0-9, Pe: 0-9 (30 scenarios total)
======================================================================

Cleaning route directory: infrastructure/developed/common/routes
  Removed: bicycle.rou.xml
  Removed: bus.rou.xml
  Removed: privateCar.rou.xml
  Removed: pedestrian.rou.xml

Generating initial routes...
Generating DEVELOPED control routes for scenario: Pr_0
  Cars: 100/hr
  Bicycles: 400/hr
  Pedestrians: 400/hr
  Buses: every_15min/hr
✓ DEVELOPED control route generation complete

Warning: Environment variable SUMO_HOME is not set properly, disabling XML validation. Set 'auto' or 'always' for web lookups.
Warning: Emission classes should always use the model as a prefix, please recheck 'P_7_7'. Starting with SUMO 1.24 this will be an error.
Warning: Emission classes should always use the model as a prefix, please recheck 'HDV_12_12'. Starting with SUMO 1.24 this will be an error.
Warning: The shape 'bus/city' for vType 'bus' is deprecated, use 'bus' instead.

================================================================================
[EPISODE SUMMARY] Phase Change Statistics:
  Total actions attempted: 0
  Phase changes executed: 0
  Actions blocked (MIN_GREEN_TIME): 0
================================================================================


================================================================================
[FINAL SAFETY SUMMARY] Episode Complete
================================================================================
  Total Headway Violations:    0
  Total Distance Violations:   0
  Total Red Light Violations:  0
  ────────────────────────────────────────────────────────────────────────────
  TOTAL SAFETY VIOLATIONS:     0
================================================================================

Interrupt signal received, trying to exit gracefully.
Using device: mps
Model loaded from models/training_20251021_212308/final_model.pth

Testing DRL agent on 30 scenarios...
Model: models/training_20251021_212308/final_model.pth
Agent epsilon: 0.0 (pure exploitation mode)
Episode count from training: 100
Total training steps: 89875

Testing scenarios:   0%|          | 0/30 [00:00<?, ?it/s]Warning: Environment variable SUMO_HOME is not set properly, disabling XML validation. Set 'auto' or 'always' for web lookups.
Warning: Emission classes should always use the model as a prefix, please recheck 'P_7_7'. Starting with SUMO 1.24 this will be an error.
Warning: Emission classes should always use the model as a prefix, please recheck 'HDV_12_12'. Starting with SUMO 1.24 this will be an error.
Warning: The shape 'bus/city' for vType 'bus' is deprecated, use 'bus' instead.
  Q-values: Continue=0.177, Skip2P1=0.148, Next=-0.240, Ped=-0.703
  Selected: 0
[STUCK WARNING] TLS 3: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[STUCK WARNING] TLS 6: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[MAX_GREEN FORCED] TLS 3: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 3: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[BLOCKED] TLS 3: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[PHASE CHANGE] TLS 3: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[PHASE CHANGE] TLS 6: Phase 8 → 1 (Skip to P1), Duration: 5s ✓

[PEDESTRIAN DEBUG] Step 100:
  Total pedestrians: 61
  Stopped pedestrians: 2
  Avg waiting time: 0.61s

[SAFETY SUMMARY] Step 100:
  Headway violations: 0 (FAST vehicles only: speed > 8.0 m/s)
  Distance violations: 0 (MOVING only: speed > 1.0 m/s)
  Red light violations: 0
  Episode totals - Headway: 0, Distance: 0, Red light: 0

  Q-values: Continue=-1.138, Skip2P1=-1.369, Next=-1.267, Ped=-2.310
  Selected: 0
[STUCK WARNING] TLS 3: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[STUCK WARNING] TLS 6: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[MAX_GREEN FORCED] TLS 3: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[SAFETY-DEBUG] Red light: speed=5.3m/s, distance=2.7m
[MAX_GREEN FORCED] TLS 3: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[BLOCKED] TLS 3: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[SAFETY-DEBUG] Red light: speed=3.7m/s, distance=1.1m
[BLOCKED] TLS 3: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[PHASE CHANGE] TLS 3: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[PHASE CHANGE] TLS 6: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[SAFETY-DEBUG] Red light: speed=4.7m/s, distance=1.4m
[STUCK WARNING] TLS 3: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[STUCK WARNING] TLS 6: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[MAX_GREEN FORCED] TLS 3: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 3: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[BLOCKED] TLS 3: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[PHASE CHANGE] TLS 3: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[PHASE CHANGE] TLS 6: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[SAFETY-DEBUG] Red light: speed=2.6m/s, distance=1.5m

[PEDESTRIAN DEBUG] Step 200:
  Total pedestrians: 116
  Stopped pedestrians: 2
  Avg waiting time: 0.11s

[SAFETY SUMMARY] Step 200:
  Headway violations: 0 (FAST vehicles only: speed > 8.0 m/s)
  Distance violations: 0 (MOVING only: speed > 1.0 m/s)
  Red light violations: 0
  Episode totals - Headway: 0, Distance: 0, Red light: 4

  Q-values: Continue=-0.073, Skip2P1=-0.103, Next=-0.407, Ped=-1.053
  Selected: 0
[SAFETY-DEBUG] Red light: speed=2.2m/s, distance=1.9m
[SAFETY-DEBUG] Red light: speed=3.8m/s, distance=1.8m
[SAFETY-DEBUG] Red light: speed=3.8m/s, distance=1.8m
[SAFETY-DEBUG] Red light: speed=2.1m/s, distance=1.0m
[STUCK WARNING] TLS 3: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[STUCK WARNING] TLS 6: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[MAX_GREEN FORCED] TLS 3: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[SAFETY-DEBUG] Red light: speed=2.2m/s, distance=1.0m
[SAFETY-DEBUG] Red light: speed=2.4m/s, distance=1.0m
[SAFETY-DEBUG] Red light: speed=4.8m/s, distance=2.3m
[SAFETY-DEBUG] Red light: speed=2.9m/s, distance=1.0m
[SAFETY-DEBUG] Red light: speed=4.4m/s, distance=1.1m
[MAX_GREEN FORCED] TLS 3: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[BLOCKED] TLS 3: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[PHASE CHANGE] TLS 3: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[PHASE CHANGE] TLS 6: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[SAFETY-DEBUG] Red light: speed=4.7m/s, distance=1.5m
[SAFETY-DEBUG] Red light: speed=3.9m/s, distance=2.0m
[SAFETY-DEBUG] Red light: speed=2.2m/s, distance=1.0m
[SAFETY-DEBUG] Red light: speed=5.3m/s, distance=2.2m
[SAFETY-DEBUG] Red light: speed=2.9m/s, distance=1.0m
[SAFETY-DEBUG] Red light: speed=3.1m/s, distance=1.1m
[STUCK WARNING] TLS 3: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[STUCK WARNING] TLS 6: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[MAX_GREEN FORCED] TLS 3: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[SAFETY-DEBUG] Red light: speed=3.9m/s, distance=2.3m
[SAFETY-DEBUG] Red light: speed=2.9m/s, distance=1.0m
[SAFETY-DEBUG] Red light: speed=3.4m/s, distance=1.5m
[SAFETY-DEBUG] Red light: speed=3.6m/s, distance=1.7m

[PEDESTRIAN DEBUG] Step 300:
  Total pedestrians: 170
  Stopped pedestrians: 6
  Avg waiting time: 0.36s

[SAFETY SUMMARY] Step 300:
  Headway violations: 0 (FAST vehicles only: speed > 8.0 m/s)
  Distance violations: 0 (MOVING only: speed > 1.0 m/s)
  Red light violations: 0
  Episode totals - Headway: 0, Distance: 0, Red light: 23

  Q-values: Continue=-1.041, Skip2P1=-1.171, Next=-1.222, Ped=-1.534
  Selected: 0
[MAX_GREEN FORCED] TLS 3: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[BLOCKED] TLS 3: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[SAFETY-DEBUG] Red light: speed=3.5m/s, distance=1.5m
[BLOCKED] TLS 3: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[SAFETY-DEBUG] Red light: speed=2.6m/s, distance=1.0m
[BLOCKED] TLS 3: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[PHASE CHANGE] TLS 3: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[PHASE CHANGE] TLS 6: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[SAFETY-DEBUG] Red light: speed=2.9m/s, distance=1.0m
[SAFETY-DEBUG] Red light: speed=4.9m/s, distance=3.0m
[SAFETY-DEBUG] Red light: speed=2.5m/s, distance=1.0m
[SAFETY-DEBUG] Red light: speed=3.6m/s, distance=1.6m
[SAFETY-DEBUG] Red light: speed=3.5m/s, distance=1.5m
[STUCK WARNING] TLS 3: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[STUCK WARNING] TLS 6: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[MAX_GREEN FORCED] TLS 3: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[SAFETY-DEBUG] Red light: speed=5.4m/s, distance=2.0m
[SAFETY-DEBUG] Red light: speed=2.1m/s, distance=1.6m
[SAFETY-DEBUG] Red light: speed=2.9m/s, distance=1.0m
[MAX_GREEN FORCED] TLS 3: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[BLOCKED] TLS 3: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[SAFETY-DEBUG] Red light: speed=4.6m/s, distance=1.3m
[BLOCKED] TLS 3: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[PHASE CHANGE] TLS 3: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[PHASE CHANGE] TLS 6: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[SAFETY-DEBUG] Red light: speed=4.1m/s, distance=2.2m
[SAFETY-DEBUG] Red light: speed=2.7m/s, distance=1.0m
[SAFETY-DEBUG] Red light: speed=2.8m/s, distance=1.0m
[SAFETY-DEBUG] Red light: speed=4.0m/s, distance=2.0m

[PEDESTRIAN DEBUG] Step 400:
  Total pedestrians: 220
  Stopped pedestrians: 3
  Avg waiting time: 0.14s

[SAFETY SUMMARY] Step 400:
  Headway violations: 0 (FAST vehicles only: speed > 8.0 m/s)
  Distance violations: 0 (MOVING only: speed > 1.0 m/s)
  Red light violations: 0
  Episode totals - Headway: 0, Distance: 0, Red light: 38

  Q-values: Continue=-1.021, Skip2P1=-1.130, Next=-1.285, Ped=-2.201
  Selected: 0
[STUCK WARNING] TLS 3: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[STUCK WARNING] TLS 6: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[MAX_GREEN FORCED] TLS 3: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[SAFETY-DEBUG] Red light: speed=2.7m/s, distance=1.0m
[SAFETY-DEBUG] Red light: speed=3.9m/s, distance=1.9m
[SAFETY-DEBUG] Red light: speed=2.6m/s, distance=1.7m
[SAFETY-DEBUG] Red light: speed=5.5m/s, distance=2.5m
[MAX_GREEN FORCED] TLS 3: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[SAFETY-DEBUG] Red light: speed=3.5m/s, distance=1.5m
[BLOCKED] TLS 3: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[SAFETY-DEBUG] Red light: speed=3.3m/s, distance=1.8m
[BLOCKED] TLS 3: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[PHASE CHANGE] TLS 3: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[PHASE CHANGE] TLS 6: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
Warning: Teleporting vehicle '400025'; waited too long (yield), lane='c_3_2', time=430.00.
Warning: Vehicle '400025' ends teleporting on edge '3_a', time=430.00.
[SAFETY-DEBUG] Red light: speed=3.9m/s, distance=2.4m
[SAFETY-DEBUG] Red light: speed=3.5m/s, distance=1.5m
[SAFETY-DEBUG] Red light: speed=3.0m/s, distance=1.0m
[SAFETY-DEBUG] Red light: speed=4.7m/s, distance=2.0m
[STUCK WARNING] TLS 3: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[STUCK WARNING] TLS 6: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
Warning: Teleporting vehicle '27'; waited too long (yield), lane='11_3_1', time=470.00.
Warning: Vehicle '27' ends teleporting on edge '3_4', time=470.00.
[MAX_GREEN FORCED] TLS 3: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[SAFETY-DEBUG] Red light: speed=4.5m/s, distance=2.6m
[MAX_GREEN FORCED] TLS 3: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 4 → 8 (duration 12s >= MAX 12s) 🔴 FORCED CHANGE
[BLOCKED] TLS 3: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=1s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=2s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 3: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=3s < MIN_GREEN_TIME=5s) ⚠️
[SAFETY-DEBUG] Red light: speed=2.7m/s, distance=1.0m
[BLOCKED] TLS 3: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[BLOCKED] TLS 6: Cannot skip to P1 (duration=4s < MIN_GREEN_TIME=5s) ⚠️
[PHASE CHANGE] TLS 3: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[PHASE CHANGE] TLS 6: Phase 8 → 1 (Skip to P1), Duration: 5s ✓
[SAFETY-DEBUG] Red light: speed=3.1m/s, distance=1.7m

[PEDESTRIAN DEBUG] Step 500:
  Total pedestrians: 269
  Stopped pedestrians: 0
  Avg waiting time: 0.00s

[SAFETY SUMMARY] Step 500:
  Headway violations: 0 (FAST vehicles only: speed > 8.0 m/s)
  Distance violations: 0 (MOVING only: speed > 1.0 m/s)
  Red light violations: 0
  Episode totals - Headway: 0, Distance: 0, Red light: 51

  Q-values: Continue=-0.198, Skip2P1=-0.233, Next=-0.481, Ped=-1.105
  Selected: 0
[SAFETY-DEBUG] Red light: speed=3.1m/s, distance=1.1m
[SAFETY-DEBUG] Red light: speed=2.4m/s, distance=1.5m
Warning: Teleporting vehicle '400047'; waited too long (yield), lane='f_6_2', time=510.00.
Warning: Vehicle '400047' ends teleporting on edge '6_b', time=510.00.
[SAFETY-DEBUG] Red light: speed=3.8m/s, distance=1.8m
[STUCK WARNING] TLS 3: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[STUCK WARNING] TLS 6: Continuous Continue for 40s (phase 1, max 44s, penalty: -6.000)
[SAFETY-DEBUG] Red light: speed=3.9m/s, distance=2.6m
[MAX_GREEN FORCED] TLS 3: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[MAX_GREEN FORCED] TLS 6: Phase 1 → 4 (duration 44s >= MAX 44s) 🔴 FORCED CHANGE
[SAFETY-DEBUG] Red light: speed=3.1m/s, distance=1.1m
[SAFETY-DEBUG] Red light: speed=4.6m/s, distance=2.4m
